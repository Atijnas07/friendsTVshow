<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Central Perk</title>
  <link rel="shortcut icon" href="logo.jpeg" type="image/jpeg">
  <style>
    body {
      margin: 0;
      padding: 0;
      height: 100vh;
      background: url("Images/download (21).jpeg") no-repeat center center fixed;
      background-size: cover;
      background-color: #1a001f;
      overflow: hidden;
      font-family: 'Poppins', sans-serif;
      position: relative;
    }

    .overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(26, 0, 31, 0.5);
      pointer-events: none;
      z-index: 1;
    }

    .dotted-background {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 2;
    }

    .dot {
      position: absolute;
      width: 8px;
      height: 8px;
      background: rgba(255, 255, 255, 0.15);
      border-radius: 50%;
      animation: floatDot 10s infinite ease-in-out alternate, fadeDot 6s infinite ease-in-out alternate;
    }

    @keyframes floatDot {
      0% { transform: translate(0, 0) scale(1); }
      50% { transform: translate(30px, -30px) scale(1.2); }
      100% { transform: translate(-30px, 30px) scale(1); }
    }

    @keyframes fadeDot {
      0% { opacity: 0.3; }
      50% { opacity: 0.1; }
      100% { opacity: 0.3; }
    }

    .header {
      text-align: center;
      margin: 50px 0 50px 0;
      font-size: 24px;
      font-weight: bold;
      color: #facc15;
      z-index: 3;
      position: relative;
    }

    .progress-container {
      width: 30%;
      height: 8px;
      background: #666;
      border-radius: 5px;
      margin: 10px auto 30px;
      overflow: hidden;
      margin-top: 80px;
    }

    .progress-bar {
      height: 100%;
      background: #FFD700;
      width: 0%;
      border-radius: 15px;
      transition: width 0.5s ease;
    }

    .quiz-wrapper {
      position: relative;
      max-width: 400px;
      margin: 0 auto;
      border: 2px solid #fff;
      border-radius: 10px;
      padding: 20px;
      background: rgba(255, 255, 255, 0.1);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
      margin-top: 100px;
    }

    .character-icon {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      position: absolute;
      top: -50px;
      left: 50%;
      transform: translateX(-50%);
      border: 4px solid #fff;
      background: #000;
    }

    .character-icon img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: 50%;
    }

    .quiz-container {
      background: #1e1e4e;
      padding: 40px 20px;
      border-radius: 20px;
      text-align: center;
      box-shadow: 0 0 30px rgba(0, 0, 0, 0.6);
      overflow-y: auto;
      max-height: 500px;
    }

    .quiz-container h3 {
      font-size: 18px;
      margin-bottom: 15px;
      color: #fff;
    }

    .option-btn {
      display: block;
      width: 100%;
      padding: 14px;
      margin: 10px 0;
      background: #2d2d6a;
      color: white;
      border: 3px solid transparent;
      border-radius: 10px;
      font-size: 16px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .option-btn:hover {
      background: #3d3d7a;
      transform: scale(1.02);
    }

    .correct {
      border-color: #22c55e !important;
    }

    .wrong {
      border-color: #ef4444 !important;
      animation: shake 0.4s;
    }

    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-5px); }
      50% { transform: translateX(5px); }
      75% { transform: translateX(-5px); }
    }

    #feedback {
      display: flex;
      flex-direction: column;
      align-items: center;
      animation: fadeIn 0.8s ease forwards;
    }

    @keyframes fadeIn {
      from {opacity: 0;}
      to {opacity: 1;}
    }

    .feedback {
      font-size: 20px;
      margin-bottom: 10px;
      color: #facc15;
    }

    #correct-answer {
      color: white;
      font-size: 16px;
      margin-bottom: 20px;
    }

    #feedback-img {
      width: 100%;
      max-width: 300px;
      height: auto;
      border-radius: 10px;
      border: 2px solid white;
      margin-top: 10px;
      object-fit: cover;
    }

    .next-btn {
      margin-top: 20px;
      background: #10b981;
      color: white;
      border: none;
      padding: 12px 25px;
      border-radius: 10px;
      font-size: 16px;
      cursor: pointer;
      display: none;
    }
  </style>
</head>

<body>

<div class="dotted-background" id="dotted-background"></div>

<div class="header" id="header-question-no">Question 1/10</div>

<div class="progress-container">
  <div class="progress-bar" id="progress-bar"></div>
</div>

<div class="quiz-wrapper">
  <div class="character-icon">
    <img src="https://cdn-icons-png.flaticon.com/512/921/921347.png" alt="Character">
  </div>

  <div class="quiz-container" id="quiz-box">
    <div id="question-content">
      <h3 id="question"></h3>
      <div id="options"></div>
    </div>
    <div id="feedback" style="display:none;">
      <div class="feedback" id="feedback-text"></div>
      <div id="correct-answer"></div>
      <img id="feedback-img" src="" alt="Feedback">
    </div>
    <button class="next-btn" id="next-btn" onclick="nextQuestion()">Next</button>
  </div>
</div>

<script>
  const container = document.getElementById('dotted-background');
  const numDots = 80;
  for (let i = 0; i < numDots; i++) {
    const dot = document.createElement('div');
    dot.classList.add('dot');
    dot.style.top = Math.random() * 100 + '%';
    dot.style.left = Math.random() * 100 + '%';
    dot.style.animationDuration = (8 + Math.random() * 4) + 's';
    container.appendChild(dot);
  }

  const questions = [
  {question: "What is the name of the barista who works at Central Perk throughout most of the series?", options: ["Mark", "Gunther", "Steve", "Carl"], answer: "Gunther", feedbackImage: "cp1.jpeg"},
  {question: "Which of the Friends once worked as a waitress at Central Perk?", options: ["Rachel", "Monica", "Phoebe", "Chandler"], answer: "Rachel", feedbackImage: "cp2.jpeg"},
  {question: "What was the signature couch color at Central Perk?", options: ["Blue", "Green", "Orange", "Red"], answer: "Orange", feedbackImage: "cp3.jpeg"},
  {question: "What unique feature often appears behind the Central Perk stage area?", options: ["A jukebox", "window with a view of the street", "A neon guitar", "A rotating set of posters"], answer: "window with a view of the street", feedbackImage: "cp4.jpeg"},
  {question: "Who managed Central Perk when Gunther was absent?", options: ["Joey", "Terry", "Mark", "Steve"], answer: "Terry", feedbackImage: "cp5.jpeg"},
  {question: "What was the name of the person who originally owned Central Perk before Gunther took over more duties?", options: ["Terry", "Frank", "Max", "Ben"], answer: "Terry", feedbackImage: "cp5.jpeg"},
  {question: "What kind of muffins did Monica once get obsessed with from Central Perk?", options: ["Banana Nut", "Blueberry", "Apple Crumble", "Pumpkin"], answer: "Banana Nut", feedbackImage: "cp7.jpeg"},
  {question: "What city is Central Perk located in?", options: ["Los Angeles", "Chicago", "New York City", "Boston"], answer: "New York City", feedbackImage: "cp9.jpeg"},
  {question: "In which season does Rachel leave her job at Central Perk?", options: ["Season 2", "Season 3", "Season 4", "Season 5"], answer: "Season 3", feedbackImage: "cp8.jpeg"},
  {question: "Who performed a song about a \"snowman\" at Central Perk?", options: ["Phoebe", "Rachel", "Chandler", "Monica"], answer: "Phoebe", feedbackImage: "cp4.jpeg"}
];






  let currentQuestion = 0;
  let score = 0;
  let allowNext = false;

  function showQuestion() {
    allowNext = false;
    const questionData = questions[currentQuestion];
    document.getElementById('header-question-no').innerText = `Question ${currentQuestion + 1}/${questions.length}`;
    document.getElementById('question').innerText = questionData.question;
    const optionsDiv = document.getElementById('options');
    optionsDiv.innerHTML = '';
    document.getElementById('question-content').style.display = 'block';
    document.getElementById('feedback').style.display = 'none';
    document.getElementById('next-btn').style.display = 'none';
    questionData.options.forEach(option => {
      const btn = document.createElement('button');
      btn.classList.add('option-btn');
      btn.innerText = option;
      btn.onclick = () => selectAnswer(btn, questionData.answer, questionData.feedbackImage);
      optionsDiv.appendChild(btn);
    });
    updateProgressBar();
  }

  function selectAnswer(button, correctAnswer, feedbackImage) {
    if (allowNext) return;
    allowNext = true;
    const buttons = document.querySelectorAll('.option-btn');
    buttons.forEach(btn => btn.disabled = true);
    if (button.innerText === correctAnswer) {
      button.classList.add('correct');
      showFeedback(true, correctAnswer, feedbackImage);
      score++;
    } else {
      button.classList.add('wrong');
      buttons.forEach(btn => {
        if (btn.innerText === correctAnswer) {
          btn.classList.add('correct');
        }
      });
      showFeedback(false, correctAnswer, feedbackImage);
    }
  }

  function showFeedback(isCorrect, correctAnswer, feedbackImage) {
    document.getElementById('question-content').style.display = 'none';
    document.getElementById('feedback').style.display = 'block';
    document.getElementById('feedback-text').innerText = isCorrect ? "✔️ Correct!" : "❌ Wrong!";
    document.getElementById('correct-answer').innerText = `Correct Answer: ${correctAnswer}`;
    document.getElementById('feedback-img').src = feedbackImage; 
    document.getElementById('next-btn').style.display = 'inline-block';
  }

  function nextQuestion() {
    currentQuestion++;
    if (currentQuestion < questions.length) {
      showQuestion();
    } else {
      showScore();
    }
  }

  function showScore() {
    let videoSrc = '';

    if (score >= 1 && score <= 5) {
      videoSrc = 'cp1.mp4'; 
    } else if (score >= 4 && score <= 10) {
      videoSrc = 'cp2.mp4'; 
    } 

    document.getElementById('quiz-box').innerHTML = `
      <h2 style="color:#facc15; margin-bottom: 20px;">🎉 You scored ${score}/${questions.length} 🎉</h2>
      <video id="final-video" controls autoplay muted loop style="width:100%; max-width:300px; border:2px solid white; border-radius:10px; background:black; margin: 0 auto; display: block;">
        <source src="${videoSrc}" type="video/mp4">
        Your browser does not support the video tag.
      </video>
	  <div style="text-align:center; margin-top: 20px;">
      <button onclick="location.href='challenge.html'" style="padding: 12px 20px; background:#8b5cf6; color: white; border: none; border-radius: 8px; font-size: 16px; margin: 10px;">🎯 Pick the Challenge</button>
      <button onclick="location.href='index.html'" style="padding: 12px 20px; background:#ec4899; color: white; border: none; border-radius: 8px; font-size: 16px; margin: 10px;">🏠 Home</button>
    </div>
    `;
  }

  function updateProgressBar() {
    const progress = (currentQuestion / questions.length) * 100;
    document.getElementById('progress-bar').style.width = `${progress}%`;
  }

  window.onload = showQuestion;
</script>

</body>
</html>
